<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Force same layout on phone (scaled down, not reflowed) -->
  <meta name="viewport" content="width=1050, initial-scale=1" />

  <title>COM COIN â€” Start Shilling Today</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#04160B;
      --bg1:#062011;

      --uiSolid: rgba(0,0,0,.92);
      --panelSolid: rgba(0,0,0,.92);

      --border: rgba(180,255,210,.30);
      --border2: rgba(180,255,210,.18);

      --text:#E9FFF1;
      --muted: rgba(233,255,241,.80);

      --hot:#C8FF00;

      --pix: "Press Start 2P", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

      --bgShiftY: 0px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      color:var(--text);
      font-family: var(--pix);
      image-rendering: pixelated;

      min-width: 1050px;

      overflow-x:hidden;
      overflow-y:auto;
      background: linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    .scrollSpace{
      height: 500vh;
      pointer-events:none;
      opacity:0;
    }

    .ui{
      position: fixed;
      inset: 0;
      overflow-y: auto;
      overflow-x: hidden;
      z-index: 5;
      padding-bottom: 40px;
    }

    .wrap{ max-width:1050px; margin:0 auto; padding:18px 16px 70px; }

    .bg{
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events:none;
      background:
        linear-gradient(90deg, rgba(0,0,0,.14) 1px, transparent 1px),
        linear-gradient(rgba(0,0,0,.14) 1px, transparent 1px),
        radial-gradient(1200px 600px at 20% 10%, rgba(46,229,157,.18), transparent 62%),
        radial-gradient(1200px 600px at 80% 10%, rgba(200,255,0,.12), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      background-size: 14px 14px, 14px 14px, auto, auto, auto;
    }

    .bgDollars{
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events:none;
      overflow:hidden;
    }

    .dollarField{
      position:absolute;
      left:0; right:0;
      width:100%;
      height: 220vh;
      transform: translateY(var(--bgShiftY));
      will-change: transform;
    }
    .dollarField.fieldA{ top: -110vh; }
    .dollarField.fieldB{ top: 110vh; }

    .dollar{
      position:absolute;
      font-family: var(--pix);
      color: #00FF57;
      text-shadow:
        0 12px 0 rgba(0,0,0,.45),
        0 0 34px rgba(0,255,87,.22);
      opacity: 1;
      transform: rotate(var(--r));
      user-select:none;
    }

    .px-border{
      border: 4px solid var(--border);
      box-shadow:
        0 0 0 4px rgba(0,0,0,.45),
        0 10px 0 rgba(0,0,0,.45);
      background: var(--panelSolid);
    }
    .px-border-soft{
      border: 4px solid var(--border2);
      box-shadow: 0 8px 0 rgba(0,0,0,.40);
      background: var(--uiSolid);
    }

    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:12px 14px;
    }

    .brand{ display:flex; align-items:center; gap:12px; min-width:0; }
    .logo{
      width:44px; height:44px;
      border: 4px solid var(--border);
      background: linear-gradient(135deg, rgba(46,229,157,.95), rgba(200,255,0,.75));
      box-shadow: 0 8px 0 rgba(0,0,0,.45);
      flex:0 0 auto;
    }
    .brandName{
      font-size: 12px;
      letter-spacing:.18em;
      text-transform: uppercase;
      margin:0;
      white-space:nowrap;
    }
    .brandTag{
      margin-top:6px;
      font-size: 10px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 420px;
      letter-spacing:.06em;
    }

    .tabs{ display:flex; gap:10px; flex-wrap:wrap; }
    .tab{
      padding: 12px 12px;
      border: 4px solid var(--border);
      background: rgba(0,0,0,.80);
      box-shadow: 0 6px 0 rgba(0,0,0,.45);
      cursor:pointer;
      font-size: 10px;
      letter-spacing:.10em;
      text-transform: uppercase;
      user-select:none;
    }
    .tab.active{
      background: linear-gradient(135deg, rgba(46,229,157,.28), rgba(200,255,0,.18));
      color: var(--text);
    }

    .btn{
      appearance:none;
      border: 4px solid var(--border);
      background: rgba(0,0,0,.80);
      color: var(--text);
      padding: 12px 12px;
      box-shadow: 0 6px 0 rgba(0,0,0,.45);
      cursor:pointer;
      font-family: var(--pix);
      font-size: 10px;
      letter-spacing:.10em;
      text-transform: uppercase;
    }
    .btn:active{ transform: translateY(2px); box-shadow: 0 4px 0 rgba(0,0,0,.45); }
    .btn:disabled{ opacity:.45; cursor:not-allowed; }
    .btn.primary{
      background: linear-gradient(135deg, rgba(46,229,157,.30), rgba(200,255,0,.20));
    }

    .stage{
      margin-top: 16px;
      padding: 18px 16px 18px;
      text-align:center;
    }

    .bigTitle{
      margin: 10px auto 14px;
      width: fit-content;
      text-align: center;
      display:block;

      font-size: 30px;
      letter-spacing: .18em;
      text-transform: uppercase;
      line-height: 1.2;

      text-shadow: 0 10px 0 rgba(0,0,0,.45);
      animation: bounce 1.25s ease-in-out infinite;

      background: linear-gradient(90deg, #C8FF00, #2EE59D, #00FFD1, #C8FF00);
      background-size: 240% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,.55));
    }
    @keyframes bounce{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-3px); }
    }

    .sub{
      margin: 0 auto 16px;
      max-width: 920px;
      color: var(--muted);
      line-height: 2.0;
      font-size: 11px;
      letter-spacing:.06em;
    }

    .stats{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      max-width: 980px;
      margin: 0 auto 14px;
      text-align:left;
    }

    .stat{ padding: 14px 12px; min-width:0; }
    .k{
      font-size: 9px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .v{
      margin-top: 10px;
      font-size: 11px;
      letter-spacing:.08em;
      min-width:0;
      line-height: 1.6;
    }
    .walletFit{
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      display:block;
      max-width: 100%;
    }

    .actions{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin: 12px 0 6px;
    }

    .msg{
      min-height: 26px;
      margin-top: 10px;
      font-size: 10px;
      letter-spacing:.08em;
      color: var(--muted);
      line-height: 1.9;
      word-break: break-word;
      overflow-wrap: anywhere;
    }
    .msg.ok{ color: rgba(46,229,157,.98); }
    .msg.bad{ color: rgba(255,77,109,.98); }

    .outWrap{
      display:none;
      max-width: 980px;
      margin: 16px auto 0;
      padding: 14px 12px;
      text-align:left;
    }
    .outImg{
      width:100%;
      display:block;
      border: 4px solid var(--border2);
      box-shadow: 0 10px 0 rgba(0,0,0,.40);
      background: rgba(0,0,0,.35);
    }
    .outLine{
      margin-top: 12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      flex-wrap:wrap;
      color: var(--muted);
      font-size: 10px;
      letter-spacing:.08em;
      line-height: 1.8;
      word-break: break-word;
      overflow-wrap: anywhere;
    }

    /* Removed type chip styling (no longer used) */

    .how{
      max-width: 980px;
      margin: 16px auto 0;
      padding: 14px 12px;
      text-align:left;
      overflow:hidden;
    }
    .how h3{
      margin: 0 0 10px;
      font-size: 10px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: var(--hot);
    }
    .steps{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin:0;
      padding:0;
      list-style:none;
    }
    .step{
      display:grid;
      grid-template-columns: 28px 1fr;
      gap:10px;
      align-items:start;
      min-width:0;
    }
    .stepNum{
      width:28px;
      text-align:right;
      font-size: 10px;
      color: var(--hot);
      line-height: 1.6;
    }
    .stepTxt{
      font-size: 10px;
      color: var(--muted);
      line-height: 1.75;
      letter-spacing:.06em;
      word-break: break-word;
      overflow-wrap:anywhere;
      min-width:0;
    }

    .hidden{ display:none !important; }

    .scoreCard{
      max-width: 980px;
      margin: 0 auto;
      padding: 16px 12px;
      text-align:left;
    }
    .rankBig{
      text-align:center;
      font-size: 34px;
      letter-spacing:.18em;
      text-transform: uppercase;
      margin: 2px 0 14px;
      color: var(--hot);
      text-shadow: 0 10px 0 rgba(0,0,0,.45);
    }
    .rankCallout{
      font-size: 10px;
      letter-spacing:.08em;
      color: var(--muted);
      line-height: 2.0;
      word-break: break-word;
      overflow-wrap: anywhere;
    }
  </style>
</head>

<body>
  <div class="bg"></div>

  <div class="bgDollars" aria-hidden="true">
    <!-- Field A -->
    <div class="dollarField fieldA">
      <div class="dollar" style="top:6%;  left:10%; --r:-6deg; font-size:120px;">$</div>
      <div class="dollar" style="top:10%; left:72%; --r:10deg; font-size:150px;">$</div>
      <div class="dollar" style="top:16%; left:42%; --r:-2deg; font-size:130px;">$</div>
      <div class="dollar" style="top:24%; left:18%; --r:6deg;  font-size:170px;">$</div>
      <div class="dollar" style="top:30%; left:84%; --r:-8deg; font-size:140px;">$</div>
      <div class="dollar" style="top:38%; left:56%; --r:2deg;  font-size:185px;">$</div>
      <div class="dollar" style="top:46%; left:8%;  --r:-4deg; font-size:155px;">$</div>
      <div class="dollar" style="top:52%; left:36%; --r:7deg;  font-size:165px;">$</div>
      <div class="dollar" style="top:60%; left:78%; --r:-3deg; font-size:145px;">$</div>
      <div class="dollar" style="top:68%; left:24%; --r:5deg;  font-size:180px;">$</div>
      <div class="dollar" style="top:76%; left:64%; --r:-7deg; font-size:155px;">$</div>
      <div class="dollar" style="top:84%; left:90%; --r:3deg;  font-size:175px;">$</div>
      <div class="dollar" style="top:22%; left:92%; --r:-10deg; font-size:120px;">$</div>
      <div class="dollar" style="top:44%; left:4%;  --r:10deg;  font-size:125px;">$</div>
      <div class="dollar" style="top:74%; left:50%; --r:-6deg;  font-size:132px;">$</div>
      <div class="dollar" style="top:90%; left:14%; --r:6deg;   font-size:118px;">$</div>
      <div class="dollar" style="top:88%; left:42%; --r:-2deg;  font-size:140px;">$</div>
      <div class="dollar" style="top:12%; left:6%;  --r:8deg;   font-size:110px;">$</div>
    </div>

    <!-- Field B (clone) -->
    <div class="dollarField fieldB">
      <div class="dollar" style="top:6%;  left:10%; --r:-6deg; font-size:120px;">$</div>
      <div class="dollar" style="top:10%; left:72%; --r:10deg; font-size:150px;">$</div>
      <div class="dollar" style="top:16%; left:42%; --r:-2deg; font-size:130px;">$</div>
      <div class="dollar" style="top:24%; left:18%; --r:6deg;  font-size:170px;">$</div>
      <div class="dollar" style="top:30%; left:84%; --r:-8deg; font-size:140px;">$</div>
      <div class="dollar" style="top:38%; left:56%; --r:2deg;  font-size:185px;">$</div>
      <div class="dollar" style="top:46%; left:8%;  --r:-4deg; font-size:155px;">$</div>
      <div class="dollar" style="top:52%; left:36%; --r:7deg;  font-size:165px;">$</div>
      <div class="dollar" style="top:60%; left:78%; --r:-3deg; font-size:145px;">$</div>
      <div class="dollar" style="top:68%; left:24%; --r:5deg;  font-size:180px;">$</div>
      <div class="dollar" style="top:76%; left:64%; --r:-7deg; font-size:155px;">$</div>
      <div class="dollar" style="top:84%; left:90%; --r:3deg;  font-size:175px;">$</div>
      <div class="dollar" style="top:22%; left:92%; --r:-10deg; font-size:120px;">$</div>
      <div class="dollar" style="top:44%; left:4%;  --r:10deg;  font-size:125px;">$</div>
      <div class="dollar" style="top:74%; left:50%; --r:-6deg;  font-size:132px;">$</div>
      <div class="dollar" style="top:90%; left:14%; --r:6deg;   font-size:118px;">$</div>
      <div class="dollar" style="top:88%; left:42%; --r:-2deg;  font-size:140px;">$</div>
      <div class="dollar" style="top:12%; left:6%;  --r:8deg;   font-size:110px;">$</div>
    </div>
  </div>

  <div class="ui">
    <div class="wrap">

      <div class="topbar px-border">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div style="min-width:0">
            <p class="brandName">COM COIN</p>
            <div class="brandTag">$COMCOIN</div>
          </div>
        </div>

        <div class="tabs">
          <div class="tab active" id="tabGen">Generator</div>
          <div class="tab" id="tabRank">Rank</div>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn" id="btnConnect">Connect</button>
          <button class="btn" id="btnDisconnect" disabled>Disconnect</button>
        </div>
      </div>

      <div class="stage px-border" id="viewGen">
        <div class="bigTitle">START SHILLING TODAY</div>

        <p class="sub">
          Connect Phantom. Hold <b>$COMCOIN</b> â†’ get <b>one</b> pixel meme pull per day.
          It stamps <b>COM COIN</b> at the bottom. Post it and go raid the timeline.
        </p>

        <div class="stats">
          <div class="stat px-border-soft">
            <div class="k">Wallet</div>
            <div class="v walletFit" id="wallet">Not connected</div>
          </div>
          <div class="stat px-border-soft">
            <div class="k">$COMCOIN balance</div>
            <div class="v" id="balance">â€”</div>
          </div>
          <div class="stat px-border-soft">
            <div class="k">Your rank</div>
            <div class="v" id="rank">â€”</div>
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="btnGenerate" disabled>Generate</button>
          <button class="btn" id="btnDownload" disabled>Save Image</button>
          <button class="btn" id="btnCopyTweet" disabled>Copy Tweet</button>
        </div>

        <div class="msg" id="msg"></div>

        <div class="outWrap px-border-soft" id="outWrap">
          <img class="outImg" id="outImg" alt="Generated meme" />
          <div class="outLine">
            <div id="shillText">START SHILLING TODAY â€¢ $COMCOIN</div>
            <!-- âœ… removed the "TYPE: ..." chip entirely -->
          </div>
        </div>

        <div class="how px-border-soft" id="howBox">
          <h3>How it works</h3>
          <ul class="steps">
            <li class="step"><div class="stepNum">1.</div><div class="stepTxt">CONNECT PHANTOM.</div></li>
            <li class="step"><div class="stepNum">2.</div><div class="stepTxt">HOLD $COMCOIN â†’ 1 GENERATION PER DAY.</div></li>
            <li class="step"><div class="stepNum">3.</div><div class="stepTxt">SAVE IT + POST IT. START SHILLING ðŸ«¡</div></li>
          </ul>
        </div>
      </div>

      <div class="stage px-border hidden" id="viewRank">
        <div class="scoreCard px-border-soft">
          <div class="rankBig" id="rankBig">â€”</div>
          <div class="rankCallout" id="rankCallout">CONNECT TO SEE YOUR HOLDER LEVEL.</div>
        </div>
      </div>

      <script type="module" src="/main.js"></script>
    </div>
  </div>

  <div class="scrollSpace"></div>

  <script>
    const root = document.documentElement;

    function fieldLoopPx() {
      return window.innerHeight * 2.2; // 220vh
    }

    // Keep background direction as you currently have it (swapped earlier):
    function setBgFromScroll(y) {
      const loopPx = fieldLoopPx();
      const raw = -y * 0.6; // background direction
      const wrapped = ((raw % loopPx) + loopPx) % loopPx;
      root.style.setProperty("--bgShiftY", `${wrapped}px`);
    }

    function ensureInfiniteScroll() {
      const maxY = document.documentElement.scrollHeight - window.innerHeight;
      const y = window.scrollY || 0;
      const margin = 400;

      if (y < margin) window.scrollTo(0, y + (maxY - 2*margin));
      else if (y > maxY - margin) window.scrollTo(0, y - (maxY - 2*margin));

      setBgFromScroll(window.scrollY || 0);
    }

    function initLoop() {
      const maxY = document.documentElement.scrollHeight - window.innerHeight;
      const middle = Math.max(0, Math.floor(maxY / 2));
      window.scrollTo(0, middle);
      setBgFromScroll(middle);
    }

    let ticking = false;
    window.addEventListener("scroll", () => {
      if (ticking) return;
      ticking = true;
      requestAnimationFrame(() => {
        ensureInfiniteScroll();
        ticking = false;
      });
    }, { passive: true });

    window.addEventListener("resize", () => {
      setBgFromScroll(window.scrollY || 0);
    });

    initLoop();
  </script>
</body>
</html>
